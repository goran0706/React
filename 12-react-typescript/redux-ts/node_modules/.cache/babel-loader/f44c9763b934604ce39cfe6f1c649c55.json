{"ast":null,"code":"import axios from 'axios';\nimport { ActionType } from '../action-types';\nexport const searchRepositories = term => {\n  return async dispatch => {\n    dispatch({\n      type: ActionType.SEARCH_REPOSITORIES\n    });\n    try {\n      const {\n        data\n      } = await axios.get('https://registry.npmjs.org/-/v1/search', {\n        params: {\n          text: term\n        }\n      });\n      const names = data.objects.map(result => {\n        return result.package.name;\n      });\n      dispatch({\n        type: ActionType.SEARCH_REPOSITORIES_SUCCESS,\n        payload: names\n      });\n    } catch (err) {\n      dispatch({\n        type: ActionType.SEARCH_REPOSITORIES_ERROR,\n        payload: err.message\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","ActionType","searchRepositories","term","dispatch","type","SEARCH_REPOSITORIES","data","get","params","text","names","objects","map","result","package","name","SEARCH_REPOSITORIES_SUCCESS","payload","err","SEARCH_REPOSITORIES_ERROR","message"],"sources":["/home/goran/Desktop/react-playgrounds/typescript/redux-ts/src/state/action-creators/index.ts"],"sourcesContent":["import axios from 'axios';\nimport { Dispatch } from 'redux';\nimport { ActionType } from '../action-types';\nimport { Action } from '../actions';\n\nexport const searchRepositories = (term: string) => {\n  return async (dispatch: Dispatch<Action>) => {\n    dispatch({\n      type: ActionType.SEARCH_REPOSITORIES,\n    });\n\n    try {\n      const { data } = await axios.get(\n        'https://registry.npmjs.org/-/v1/search',\n        {\n          params: {\n            text: term,\n          },\n        }\n      );\n\n      const names = data.objects.map((result: any) => {\n        return result.package.name;\n      });\n\n      dispatch({\n        type: ActionType.SEARCH_REPOSITORIES_SUCCESS,\n        payload: names,\n      });\n    } catch (err) {\n      dispatch({\n        type: ActionType.SEARCH_REPOSITORIES_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,UAAU,QAAQ,iBAAiB;AAG5C,OAAO,MAAMC,kBAAkB,GAAIC,IAAY,IAAK;EAClD,OAAO,MAAOC,QAA0B,IAAK;IAC3CA,QAAQ,CAAC;MACPC,IAAI,EAAEJ,UAAU,CAACK;IACnB,CAAC,CAAC;IAEF,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAC9B,wCAAwC,EACxC;QACEC,MAAM,EAAE;UACNC,IAAI,EAAEP;QACR;MACF,CAAC,CACF;MAED,MAAMQ,KAAK,GAAGJ,IAAI,CAACK,OAAO,CAACC,GAAG,CAAEC,MAAW,IAAK;QAC9C,OAAOA,MAAM,CAACC,OAAO,CAACC,IAAI;MAC5B,CAAC,CAAC;MAEFZ,QAAQ,CAAC;QACPC,IAAI,EAAEJ,UAAU,CAACgB,2BAA2B;QAC5CC,OAAO,EAAEP;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACZf,QAAQ,CAAC;QACPC,IAAI,EAAEJ,UAAU,CAACmB,yBAAyB;QAC1CF,OAAO,EAAEC,GAAG,CAACE;MACf,CAAC,CAAC;IACJ;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}